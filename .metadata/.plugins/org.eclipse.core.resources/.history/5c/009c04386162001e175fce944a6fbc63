	package model.dao.Gerente;

	import java.sql.Connection;
	import java.sql.PreparedStatement;
	import java.sql.ResultSet;
	import java.sql.SQLException;
	import java.util.ArrayList;
	import java.util.List;
	import model.Endereco;
	import model.Funcionario;
	import model.dao.ConexãoBD;

	public class TelaDePerfilDao {

	
	    public static List<Funcionario> getFuncionarioComEndereco(int idFuncionario) {
	        List<Funcionario> funcionarios = new ArrayList<>();
	        
	        try (Connection connection = ConexãoBD.Conexao()) {
	            String query = "SELECT f.nome_completo, f.cpf, f.data_nasc, f.telefone, f.email, f.cargo, f.salario, e.logradouro, e.bairro, e.cep, e.cidade " +
	                           "FROM funcionario f " +
	                           "JOIN endereco e ON f.id = e.id_funci " +
	                           "WHERE f.id = ?";
	            
	            PreparedStatement preparedStatement = connection.prepareStatement(query);
	            preparedStatement.setInt(1, idFuncionario);
	            
	            ResultSet resultSet = preparedStatement.executeQuery();

	            while (resultSet.next()) {
	                Funcionario funcionario = new Funcionario();
	                funcionario.setNomeCompleto(resultSet.getString("nome_completo"));
	                funcionario.setCpf(resultSet.getString("cpf"));
	                funcionario.setDataNascimento(resultSet.getDate("data_nasc").toLocalDate());
	                funcionario.setTelefone(resultSet.getString("telefone"));
	                funcionario.setEmail(resultSet.getString("email"));
	                funcionario.setCargo(resultSet.getString("cargo"));
	                funcionario.setSalario(resultSet.getDouble("salario"));

	                Endereco endereco = new Endereco();
	                endereco.setLogradouro(resultSet.getString("logradouro"));
	                endereco.setBairro(resultSet.getString("bairro"));
	                endereco.setCep(resultSet.getString("cep"));
	                endereco.setCidade(resultSet.getString("cidade"));

	                funcionario.setEndereco(endereco); // Defina um método setEndereco em Funcionario

	                funcionarios.add(funcionario);
	            }

	        } catch (SQLException e) {
	            e.printStackTrace();
	        }

	        return funcionarios;
	    }
	    
	    // Adicione métodos para inserir, atualizar e excluir endereços, se necessário.
	}
	
	

